<p>If you haven’t set up a Riak Node and started it, please visit <a href="/riak/kv/2.2.3/using/running-a-cluster">Running A Cluster</a> first. To try this flavor
of Riak, a working installation of Ruby is required.</p>

<h2 id="client-setup">Client Setup</h2>

<p>First, install the Riak Ruby client via RubyGems.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem <span class="nb">install </span>riak-client
</code></pre></div></div>

<p>Start IRB, the Ruby REPL, and let’s get set up. Enter the following into
IRB:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'riak'</span>
</code></pre></div></div>

<p>If you are using a single local Riak node, use the following to create a
new client instance, assuming that the node is running on <code class="language-plaintext highlighter-rouge">localhost</code>
port 8087:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">client</span> <span class="o">=</span> <span class="no">Riak</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">:protocol</span> <span class="o">=&gt;</span> <span class="s2">"pbc"</span><span class="p">,</span> <span class="ss">:pb_port</span> <span class="o">=&gt;</span> <span class="mi">8087</span><span class="p">)</span>

<span class="c1"># Since the Ruby Riak client uses the Protocol Buffers API by default,</span>
<span class="c1"># you can also just enter this:</span>
<span class="n">client</span> <span class="o">=</span> <span class="no">Riak</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">:pb_port</span> <span class="o">=&gt;</span> <span class="mi">8087</span><span class="p">)</span>
</code></pre></div></div>

<p>If you set up a local Riak cluster using the [[five-minute install]]
method, use this code snippet instead:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">client</span> <span class="o">=</span> <span class="no">Riak</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">:protocol</span> <span class="o">=&gt;</span> <span class="s2">"pbc"</span><span class="p">,</span> <span class="ss">:pb_port</span> <span class="o">=&gt;</span> <span class="mi">10017</span><span class="p">)</span>

<span class="c1"># For the reasons explain in the snippet above, this will also work:</span>
<span class="n">client</span> <span class="o">=</span> <span class="no">Riak</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">:pb_port</span> <span class="o">=&gt;</span> <span class="mi">10017</span><span class="p">)</span>
</code></pre></div></div>

<p>We are now ready to start interacting with Riak.</p>

<h2 id="next-steps">Next Steps</h2>

<p><a href="/riak/kv/2.2.3/developing/getting-started/ruby/crud-operations">CRUD Operations</a></p>
